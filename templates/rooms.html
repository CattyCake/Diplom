{% extends 'base.html' %}


{% block title %}
Все комнаты
{% endblock title %}


{% block body %}


    <div class="container mt-5">
     <h1>Все комнаты</h1>

     {% for rooms in rooms %}
           <div id="draggable" class="container alert alert-info">
           <div><h2>{{ rooms.name }}</h2></div>
            <div> {% for device_rooms in device_rooms %}
               {% if device_rooms.id_room == rooms.id_room  %}

                   {% for dz in id_dop_addr %}
                       {% if device_rooms.id_dop_addr == dz.id_dop_addr  %}

                            <h3>{{ dz.name_device }}</h3>
                           <div class="container" >
                            <img src="/static{{dz.img }} "width="50" height="50"  >

                           </div>


                            {% for tz in func_has_dop_addr %}
                             {% if tz.dop_addr_id_dop_addr  == dz.id_dop_addr  %}
                                 {% for yz in func %}
                                   {% if yz.idfunc  == tz.func_idfunc  %}




                                        {% if yz.measure == "вкл/выкл" %}
                                            {% for ux in device %}
                                                {% if ux.iddevice == dz.id_dev%}
                                                    {% for yz in device_parametr %}
                                                        {% if dz.dop_addr + 1 == yz.idparametrs %}
                                                            {% if dz.id_dev == yz.iddevice %}
                                                            {% if yz.value == 0 %}

                                                                <div class="container">
	                                              <label><input class="form-check-input" type="checkbox" id="shest02"   value="{{ yz.id  }}"> </label>
                                                                </div>

                                                        {% elif yz.value == 1 %}

                                                                <div class="container">
	                                              <label><input class="form-check-input" type="checkbox" id="shest02" checked=checked  value="{{ yz.id }}"> </label>
                                                                </div>

                                                                {% endif %}
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endfor %}
                                                {% endif %}
                                            {% endfor %}
                                        {% endif %}



                                       {% if yz.name == 'текущая температура' %}
                                           {% for ux in device %}
                                               {% if ux.iddevice == dz.id_dev%}
                                                    {% for yz in device_parametr %}
                                                        {% if dz.dop_addr == 0 %}
                                                            {% if yz.idparametrs == 5 %}
                                                                {% if yz.iddevice == ux.iddevice %}


                                            Температура  <b><font color="green">{{ yz.value }} </font></b> градусов

                                                                    {% endif %}
                                                                {% endif %}
                                                        {% endif %}

                                                        {% if dz.dop_addr == 1 %}
                                                            {% if yz.idparametrs == 6 %}
                                                                {% if yz.iddevice == ux.iddevice %}


                                            Температура  <b><font color="green">{{ yz.value }} </font></b> градусов

                                                                    {% endif %}
                                                                {% endif %}
                                                        {% endif %}
                                                   {% endfor %}
                                               {% endif %}
                                            {% endfor %}
                                           {% endif %}




                                        {% if yz.name == 'терморегулятор_уставка' %}
                                                   {% for ux in device %}
                                               {% if ux.iddevice == dz.id_dev%}
                                                    {% for yz in device_parametr %}
                                                        {% if dz.dop_addr == 0 %}
                                                            {% if yz.idparametrs == 7 %}
                                                                {% if yz.iddevice == ux.iddevice %}


                                                                <div class="slider" value="{{ yz.value }}" id="{{ yz.id }}">
                                                                    <b>{{yz.value}}</b>
                                                                    <div class="slider-range"></div>
                                                                 </div>


                                                                    {% endif %}
                                                                {% endif %}
                                                        {% endif %}

                                                        {% if dz.dop_addr == 1 %}
                                                            {% if yz.idparametrs == 8 %}
                                                                {% if yz.iddevice == ux.iddevice %}

                                                                    <div class="slider" value="{{ yz.value }}" id="{{ yz.id }}">
                                                                      <b>{{yz.value}}</b>
                                                                       <div class="slider-range"></div>
                                                                    </div>


                                                                    {% endif %}
                                                                {% endif %}
                                                        {% endif %}
                                                   {% endfor %}
                                               {% endif %}
                                            {% endfor %}
                                           {% endif %}




                                   {% endif %}
                                 {% endfor %}
                             {% endif %}
                            {% endfor %}
                       {% endif %}
                   {% endfor %}
               {% endif %}
             {% endfor %}

            </div>
        <a href="/rooms/{{ rooms.id_room }}" class="btn btn-warning">Подробнее</a>
           </div>
    {% endfor %}
    </div>

   <form method="post">
<textarea name="checkid" id="checkid" class="form-control" hidden="hidden")  ></textarea><br>
<textarea name="checkvalue" id="checkvalue" class="form-control" hidden="hidden")></textarea><br>
<input type="submit" class="btn btn-success CheckPush" value="отправить" hidden="hidden")>
</form>

{% endblock body %}

